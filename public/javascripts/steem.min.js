var WebSocketWrapper;WebSocketWrapper=function(){function n(n){this.server=n,this.connection={},this.callbacks=[]}var e=n.prototype;return e.connect=function(){var n=this;return new Promise(function(e,o){"WebSocket"in window?(n.connection=new WebSocket(n.server),n.connection.onopen=function(){e(n.connection)},n.connection.onerror=function(n){o(Error("Error connecting to server, please reload the page!"+n))},n.connection.onmessage=function(e){var o=JSON.parse(e.data);n.callbacks[o.id](o.result)}):o(Error("Your browser is too old, please get a recent one!"))})},e.send=function(n,e){this.callbacks[n.id]=e;var o=JSON.stringify(n);this.connection.send(o)},n}();var SteemWrapper;SteemWrapper=function(){function n(n){this.ws=n,this.id=0}var e=n.prototype;return e.send=function(n,e,o){++this.id;var t={id:this.id,method:n,params:e};this.ws.send(t,o)},n}();